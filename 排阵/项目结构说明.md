# 项目结构说明

## 📁 目录结构

```
pingan_tech_badminton_team/
├── 排阵/                      # 排阵系统主目录
│   ├── lineup_scheduler.py    # 排阵脚本（Python）
│   ├── 微信接龙.txt            # 报名名单
│   ├── 需求文档.md             # 需求文档
│   ├── 对阵表.xlsx             # 生成的对阵表（运行脚本后生成）
│   └── 项目结构说明.md         # 本文件
├── docs/                      # Web 应用 + GitHub Pages 部署目录
│   ├── index.html             # 移动端记分页面
│   ├── app.js                 # 比分录入、统计、分析功能
│   ├── style.css              # 移动端样式
│   ├── data.json              # 对阵数据（由 export_to_web.py 生成）
│   ├── export_to_web.py       # Excel 转 JSON 导出脚本
│   └── README.md              # Web 使用说明
├── pyproject.toml             # Python 项目配置
├── uv.lock                    # 依赖锁定文件
└── README.md                  # 项目总说明
```

## 🔄 工作流程

### 赛前：生成对阵表
```bash
# 在微信接龙文件中添加日期，例如：
# "2026-02-28 周一活动" 或 "2 月 28 日 周一活动" 或 "02-28 周一活动"

# 然后运行一键脚本
./update_data.sh
```

### 赛中：录入比分
```bash
# 1. 打开 Web 页面
https://yyw794.github.io/badminton-score/

# 2. 点击任意比赛录入比分

# 3. 数据自动保存到浏览器本地
```

### 赛后：存档数据
```bash
# 1. 在 Web 页面点击「导出数据」下载 JSON 文件

# 2. 将比分数据导入数据库
uv run python import_scores.py 2026-02-28_活动_比分数据.json

# 3. 查看历史统计
uv run python db.py stats
```

### 3. 访问网站
```
https://yyw794.github.io/badminton-score/
```

### 4. 本地使用
```bash
# 直接打开 web 页面
open docs/index.html
```

### 5. 现场录入比分
- 打开 Web 页面后，点击任意比赛即可录入比分
- 数据会自动保存到浏览器本地
- 赛后可通过「导出数据」功能保存 JSON

## 📝 文件说明

### 排阵系统（Python）
- **lineup_scheduler.py**: 核心排阵算法，生成 Excel 对阵表
- **微信接龙.txt**: 报名名单输入
- **对阵表.xlsx**: 输出的 Excel 对阵表（运行脚本后生成）
- **需求文档.md**: 功能需求说明
- **项目结构说明.md**: 本文件

### Web 应用（JavaScript + Python）
- **docs/index.html**: 移动端记分页面
- **docs/app.js**: 比分录入、统计、分析功能
- **docs/style.css**: 移动端样式
- **docs/data.json**: 对阵数据（由 export_to_web.py 生成）
- **docs/export_to_web.py**: Excel 转 JSON 导出脚本

### 数据库（SQLite）
- **db.py**: 数据库操作模块
- **data.db**: SQLite 数据库文件（存储历史活动数据）

### 项目配置
- **pyproject.toml**: Python 项目依赖配置
- **uv.lock**: 依赖锁定文件
- **.gitignore**: Git 忽略配置

## 🎯 使用建议

1. **本地使用**: 直接打开 `docs/index.html`
2. **线上分享**: 部署到 GitHub Pages，分享链接或二维码
3. **数据存档**: 每次赛后导出 JSON 保存
