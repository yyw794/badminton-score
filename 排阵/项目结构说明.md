# 项目结构说明

## 📁 目录结构

```
pingan_tech_badminton_team/
├── 排阵/                      # 排阵系统主目录
│   ├── lineup_scheduler.py    # 排阵脚本（Python）
│   ├── 微信接龙.txt            # 报名名单
│   ├── 需求文档.md             # 需求文档
│   ├── 对阵表.xlsx             # 生成的对阵表（运行脚本后生成）
│   └── 项目结构说明.md         # 本文件
├── docs/                      # Web 应用 + GitHub Pages 部署目录
│   ├── index.html             # 移动端记分页面
│   ├── app.js                 # 比分录入、统计、分析功能
│   ├── style.css              # 移动端样式
│   ├── data.json              # 对阵数据（由 export_to_web.py 生成）
│   ├── export_to_web.py       # Excel 转 JSON 导出脚本
│   └── README.md              # Web 使用说明
├── pyproject.toml             # Python 项目配置
├── uv.lock                    # 依赖锁定文件
└── README.md                  # 项目总说明
```

## 🔄 工作流程

### 方式一：一键更新（推荐）
```bash
# 更新报名名单后，运行一键脚本
./update_data.sh "第 X 周活动"
```

### 方式二：手动更新
```bash
# 1. 更新报名名单
编辑 排阵/微信接龙.txt

# 2. 生成对阵表（生成对阵表.xlsx）
uv run python 排阵/lineup_scheduler.py

# 3. 导出为 Web 格式（生成 docs/data.json）
uv run python docs/export_to_web.py

# 4. 提交并推送
git add .
git commit -m "更新活动数据"
git push
```

### 3. 查看历史统计
```bash
# 查看所有球员统计
uv run python db.py stats

# 查看特定球员统计
uv run python db.py stats 严勇文

# 导出所有历史数据为 JSON
uv run python db.py export
```

### 3. 访问网站
```
https://yyw794.github.io/badminton-score/
```

### 4. 本地使用
```bash
# 直接打开 web 页面
open docs/index.html
```

### 5. 现场录入比分
- 打开 Web 页面后，点击任意比赛即可录入比分
- 数据会自动保存到浏览器本地
- 赛后可通过「导出数据」功能保存 JSON

## 📝 文件说明

### 排阵系统（Python）
- **lineup_scheduler.py**: 核心排阵算法，生成 Excel 对阵表
- **微信接龙.txt**: 报名名单输入
- **对阵表.xlsx**: 输出的 Excel 对阵表（运行脚本后生成）
- **需求文档.md**: 功能需求说明
- **项目结构说明.md**: 本文件

### Web 应用（JavaScript + Python）
- **docs/index.html**: 移动端记分页面
- **docs/app.js**: 比分录入、统计、分析功能
- **docs/style.css**: 移动端样式
- **docs/data.json**: 对阵数据（由 export_to_web.py 生成）
- **docs/export_to_web.py**: Excel 转 JSON 导出脚本

### 数据库（SQLite）
- **db.py**: 数据库操作模块
- **data.db**: SQLite 数据库文件（存储历史活动数据）

### 项目配置
- **pyproject.toml**: Python 项目依赖配置
- **uv.lock**: 依赖锁定文件
- **.gitignore**: Git 忽略配置

## 🎯 使用建议

1. **本地使用**: 直接打开 `docs/index.html`
2. **线上分享**: 部署到 GitHub Pages，分享链接或二维码
3. **数据存档**: 每次赛后导出 JSON 保存
